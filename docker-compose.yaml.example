version: "3"

services:
    rk-web:
        build: .
        container_name: rk-web
        hostname: rk-web
        volumes:
            - ./:/var/www/
        ports:
            - 18080:80
        environment:
            - LANG=C.UTF-8

    rk-redis:
        container_name: redis
        image: redis:alpine
        ports:
            - 6379

    rk-s3:
        image: quay.io/minio/minio
        container_name: rk-s3
        hostname: rk--s3
        command: server /data --console-address ":9001"
        ports:
            - 9000:9000
            - 9001:9001
        environment:
            MINIO_ROOT_USER: minio
            MINIO_ROOT_PASSWORD: qi8Nkal190Hqmz

    rk-db:
        image: mysql:8.0
        container_name: rk-db
        hostname: rk-db
        volumes:
            - ./.rk-db/data:/var/lib/mysql
            - /etc/localtime:/etc/localtime:ro
        ports:
            - 13306:3306
        environment:
            MYSQL_DATABASE: rk-db
            MYSQL_USER: user
            MYSQL_PASSWORD: jAkah8391q
            MYSQL_ROOT_PASSWORD: nNaj81hda
